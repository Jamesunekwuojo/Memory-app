<%- include('partials/header'); -%>

<form>
  <h2>Sign up</h2>
  <label for="email">Email</label>
  <input type="text" name="email"  />
  <div class="email error"></div>
  <label for="password">Password</label>
  <input type="password" name="password" required />
  <div class="password error"></div>
  <button type="submit">signup</button>
</form>
 
<script>
  const form = document.querySelector('form');
  
  form.addEventListener('submit', async(e)=>{
    e.preventDefault(); //prevents page from refreshing

    //get values
    const email = form.email.value;
    const password = form.password.value;

    console.log(email, password)

    try {

      const result = await fetch('/signup',{
        method:"POST",
        body:JSON.stringify({email, password}),
        headers:{'Content-Type': "application/json"}
      });
      

    } 
    catch(err){
      console.log(err)
    }
  })

</script>

<%- include('partials/footer'); -%>

